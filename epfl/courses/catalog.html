<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>EPFL Course Catalog</title>
    <link rel="stylesheet" type="text/css" href="/static/css/catalog.css"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">
    
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-373800-15']);
      _gaq.push(['_trackPageview']);
    
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    
    </script>
  </head>
  <body>
    <h1>EPFL Course Catalog</h1>
    <div class="search_box">
      <form action="/" method="get">
        <div class="search_title">Search</div>
        <p><input id="query" type="text" name="query" /></p>
        
        <div class="adv_search">
          <div class="search_title">Advanced Search</div>
          <p>
            Course Title: <input id="course" type="text" name="title" />
            Teacher: <input id="teacher" type="text" name="teacher" />
          </p>
          <p>
            <input id="search" type="submit" value="Search" />
          </p>
        </div>
      </form>
    </div>
    <div class="table_title">
    {% if is_search %}
      Search results:
    {% else %}
      All courses:
    {% endif %}
    </div>
    <div class="table_margins">
      <table class="catalog">
        <tr class="header">
          <th></th>
          <th>Title</th>
          <th>Teacher(s)</th>
        </tr>
        {%- for course in courses %}
        <tr>
          <td>{{ loop.index }}</td>
          <td><a href="c/{{ course.key() }}">{{ course.name }}</a></td>
          <td>{{ course.teachers|join(", ") }}</td>
        </tr>
        {%- endfor %}
      </table>
    </div>
  </body>
</html>

